{"ast":null,"code":"var _jsxFileName = \"/Users/sungwoocho/Desktop/platform/src/components/ImageUploader.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport { uploadImageToNFTStorage } from '../services/nft';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ImageUploader = ({\n  onImageUploaded\n}) => {\n  _s();\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadError, setUploadError] = useState(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const fileInputRef = useRef(null);\n  const handleFileChange = e => {\n    const files = e.target.files;\n    if (!files || files.length === 0) return;\n    const file = files[0];\n\n    // Basic validation\n    if (!file.type.startsWith('image/')) {\n      setUploadError('Please upload an image file');\n      return;\n    }\n\n    // Max file size check (5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      setUploadError('File size must be less than 5MB');\n      return;\n    }\n    setIsUploading(true);\n    setUploadError(null);\n\n    // Simulate upload progress\n    const progressInterval = setInterval(() => {\n      setUploadProgress(prev => {\n        if (prev >= 90) {\n          clearInterval(progressInterval);\n          return prev;\n        }\n        return prev + 10;\n      });\n    }, 300);\n\n    // Use Promise to handle async upload\n    uploadImageToNFTStorage(file).then(uploadedImage => {\n      onImageUploaded(uploadedImage);\n      setUploadProgress(100);\n\n      // Reset file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n    }).catch(error => {\n      console.error('Error uploading image:', error);\n      setUploadError(error.message || 'Failed to upload image');\n    }).finally(() => {\n      clearInterval(progressInterval);\n      setIsUploading(false);\n      setTimeout(() => setUploadProgress(0), 1000);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mb-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block text-sm font-medium text-gray-700 mb-2\",\n      children: \"Upload Image\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1 text-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n          className: \"mx-auto h-12 w-12 text-gray-400\",\n          stroke: \"currentColor\",\n          fill: \"none\",\n          viewBox: \"0 0 48 48\",\n          \"aria-hidden\": \"true\",\n          children: /*#__PURE__*/_jsxDEV(\"path\", {\n            d: \"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\",\n            strokeWidth: 2,\n            strokeLinecap: \"round\",\n            strokeLinejoin: \"round\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex text-sm text-gray-600\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"file-upload\",\n            className: \"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Upload a file\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 96,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"file-upload\",\n              name: \"file-upload\",\n              type: \"file\",\n              className: \"sr-only\",\n              accept: \"image/*\",\n              ref: fileInputRef,\n              onChange: handleFileChange,\n              disabled: isUploading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"pl-1\",\n            children: \"or drag and drop\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-xs text-gray-500\",\n          children: \"PNG, JPG, GIF up to 5MB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this), uploadProgress > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gray-200 rounded-full h-2.5 mt-1\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-indigo-600 h-2.5 rounded-full\",\n          style: {\n            width: `${uploadProgress}%`\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-xs text-gray-500 mt-1\",\n        children: uploadProgress < 100 ? `Uploading... ${uploadProgress}%` : 'Upload complete!'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 9\n    }, this), uploadError && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"mt-2 text-sm text-red-600\",\n      children: uploadError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 5\n  }, this);\n};\n_s(ImageUploader, \"DTPAiC6SvgMXpG2uuZMhXhd6wac=\");\n_c = ImageUploader;\nexport default ImageUploader;\nvar _c;\n$RefreshReg$(_c, \"ImageUploader\");","map":{"version":3,"names":["React","useState","useRef","uploadImageToNFTStorage","jsxDEV","_jsxDEV","ImageUploader","onImageUploaded","_s","isUploading","setIsUploading","uploadError","setUploadError","uploadProgress","setUploadProgress","fileInputRef","handleFileChange","e","files","target","length","file","type","startsWith","size","progressInterval","setInterval","prev","clearInterval","then","uploadedImage","current","value","catch","error","console","message","finally","setTimeout","className","children","fileName","_jsxFileName","lineNumber","columnNumber","stroke","fill","viewBox","d","strokeWidth","strokeLinecap","strokeLinejoin","htmlFor","id","name","accept","ref","onChange","disabled","style","width","_c","$RefreshReg$"],"sources":["/Users/sungwoocho/Desktop/platform/src/components/ImageUploader.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { uploadImageToNFTStorage } from '../services/nft';\nimport { UploadedImage } from '../types/nft';\n\ninterface ImageUploaderProps {\n  onImageUploaded: (image: UploadedImage) => void;\n}\n\nconst ImageUploader: React.FC<ImageUploaderProps> = ({ onImageUploaded }) => {\n  const [isUploading, setIsUploading] = useState(false);\n  const [uploadError, setUploadError] = useState<string | null>(null);\n  const [uploadProgress, setUploadProgress] = useState(0);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const files = e.target.files;\n    if (!files || files.length === 0) return;\n\n    const file = files[0];\n    \n    // Basic validation\n    if (!file.type.startsWith('image/')) {\n      setUploadError('Please upload an image file');\n      return;\n    }\n\n    // Max file size check (5MB)\n    if (file.size > 5 * 1024 * 1024) {\n      setUploadError('File size must be less than 5MB');\n      return;\n    }\n\n    setIsUploading(true);\n    setUploadError(null);\n    \n    // Simulate upload progress\n    const progressInterval = setInterval(() => {\n      setUploadProgress(prev => {\n        if (prev >= 90) {\n          clearInterval(progressInterval);\n          return prev;\n        }\n        return prev + 10;\n      });\n    }, 300);\n\n    // Use Promise to handle async upload\n    uploadImageToNFTStorage(file)\n      .then(uploadedImage => {\n        onImageUploaded(uploadedImage);\n        setUploadProgress(100);\n        \n        // Reset file input\n        if (fileInputRef.current) {\n          fileInputRef.current.value = '';\n        }\n      })\n      .catch((error: any) => {\n        console.error('Error uploading image:', error);\n        setUploadError(error.message || 'Failed to upload image');\n      })\n      .finally(() => {\n        clearInterval(progressInterval);\n        setIsUploading(false);\n        setTimeout(() => setUploadProgress(0), 1000);\n      });\n  };\n\n  return (\n    <div className=\"mb-6\">\n      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n        Upload Image\n      </label>\n      \n      <div className=\"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-300 border-dashed rounded-md\">\n        <div className=\"space-y-1 text-center\">\n          <svg\n            className=\"mx-auto h-12 w-12 text-gray-400\"\n            stroke=\"currentColor\"\n            fill=\"none\"\n            viewBox=\"0 0 48 48\"\n            aria-hidden=\"true\"\n          >\n            <path\n              d=\"M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02\"\n              strokeWidth={2}\n              strokeLinecap=\"round\"\n              strokeLinejoin=\"round\"\n            />\n          </svg>\n          <div className=\"flex text-sm text-gray-600\">\n            <label\n              htmlFor=\"file-upload\"\n              className=\"relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none\"\n            >\n              <span>Upload a file</span>\n              <input\n                id=\"file-upload\"\n                name=\"file-upload\"\n                type=\"file\"\n                className=\"sr-only\"\n                accept=\"image/*\"\n                ref={fileInputRef}\n                onChange={handleFileChange}\n                disabled={isUploading}\n              />\n            </label>\n            <p className=\"pl-1\">or drag and drop</p>\n          </div>\n          <p className=\"text-xs text-gray-500\">PNG, JPG, GIF up to 5MB</p>\n        </div>\n      </div>\n\n      {uploadProgress > 0 && (\n        <div className=\"mt-2\">\n          <div className=\"bg-gray-200 rounded-full h-2.5 mt-1\">\n            <div\n              className=\"bg-indigo-600 h-2.5 rounded-full\"\n              style={{ width: `${uploadProgress}%` }}\n            ></div>\n          </div>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            {uploadProgress < 100\n              ? `Uploading... ${uploadProgress}%`\n              : 'Upload complete!'}\n          </p>\n        </div>\n      )}\n\n      {uploadError && (\n        <p className=\"mt-2 text-sm text-red-600\">{uploadError}</p>\n      )}\n    </div>\n  );\n};\n\nexport default ImageUploader;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}