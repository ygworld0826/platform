{"ast":null,"code":"import React,{useState}from'react';import{saveNFTContract}from'../services/web3';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const NFTContractForm=_ref=>{let{onContractSaved,initialContract}=_ref;const[name,setName]=useState((initialContract===null||initialContract===void 0?void 0:initialContract.name)||'');const[address,setAddress]=useState((initialContract===null||initialContract===void 0?void 0:initialContract.address)||'');const[network,setNetwork]=useState((initialContract===null||initialContract===void 0?void 0:initialContract.network)||'');const[abiText,setAbiText]=useState(initialContract?JSON.stringify(initialContract.abi,null,2):'');const[error,setError]=useState(null);const handleSubmit=e=>{e.preventDefault();setError(null);// Validation\nif(!name.trim()){setError('Contract name is required');return;}if(!address.trim()){setError('Contract address is required');return;}if(!network.trim()){setError('Network is required');return;}if(!abiText.trim()){setError('ABI is required');return;}try{// Parse ABI from string to JSON\nconst abi=JSON.parse(abiText);// Create contract object\nconst contract={name,address,network,abi};// Save contract\nsaveNFTContract(contract);// Notify parent\nonContractSaved();// Reset form if it's a new contract (not editing)\nif(!initialContract){setName('');setAddress('');setNetwork('');setAbiText('');}}catch(error){console.error('Error parsing ABI:',error);setError('Invalid ABI JSON format');}};return/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"contract-name\",className:\"block text-sm font-medium text-gray-700\",children:\"Contract Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"contract-name\",value:name,onChange:e=>setName(e.target.value),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\",placeholder:\"My NFT Collection\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"contract-address\",className:\"block text-sm font-medium text-gray-700\",children:\"Contract Address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"contract-address\",value:address,onChange:e=>setAddress(e.target.value),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\",placeholder:\"0x...\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"network\",className:\"block text-sm font-medium text-gray-700\",children:\"Network\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"network\",value:network,onChange:e=>setNetwork(e.target.value),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Network\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Ethereum Mainnet\",children:\"Ethereum Mainnet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Goerli Testnet\",children:\"Goerli Testnet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sepolia Testnet\",children:\"Sepolia Testnet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Polygon Mainnet\",children:\"Polygon Mainnet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Mumbai Testnet\",children:\"Mumbai Testnet\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kairos Testnet\",children:\"Kairos Testnet\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"contract-abi\",className:\"block text-sm font-medium text-gray-700\",children:\"Contract ABI\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"contract-abi\",rows:10,value:abiText,onChange:e=>setAbiText(e.target.value),className:\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm font-mono\",placeholder:\"[{...}]\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-xs text-gray-500\",children:\"Paste the JSON ABI from your smart contract\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"rounded-md bg-red-50 p-4\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"ml-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-sm font-medium text-red-800\",children:\"Error\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 text-sm text-red-700\",children:/*#__PURE__*/_jsx(\"p\",{children:error})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-end\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:initialContract?'Update Contract':'Save Contract'})})]});};export default NFTContractForm;","map":{"version":3,"names":["React","useState","saveNFTContract","jsx","_jsx","jsxs","_jsxs","NFTContractForm","_ref","onContractSaved","initialContract","name","setName","address","setAddress","network","setNetwork","abiText","setAbiText","JSON","stringify","abi","error","setError","handleSubmit","e","preventDefault","trim","parse","contract","console","onSubmit","className","children","htmlFor","type","id","value","onChange","target","placeholder","rows"],"sources":["/Users/sungwoocho/Desktop/platform/blog/src/components/NFTContractForm.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { NFTContractInfo } from '../types/nft';\nimport { saveNFTContract } from '../services/web3';\n\ninterface NFTContractFormProps {\n  onContractSaved: () => void;\n  initialContract?: NFTContractInfo;\n}\n\nconst NFTContractForm: React.FC<NFTContractFormProps> = ({\n  onContractSaved,\n  initialContract\n}) => {\n  const [name, setName] = useState(initialContract?.name || '');\n  const [address, setAddress] = useState(initialContract?.address || '');\n  const [network, setNetwork] = useState(initialContract?.network || '');\n  const [abiText, setAbiText] = useState(\n    initialContract ? JSON.stringify(initialContract.abi, null, 2) : ''\n  );\n  const [error, setError] = useState<string | null>(null);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    setError(null);\n\n    // Validation\n    if (!name.trim()) {\n      setError('Contract name is required');\n      return;\n    }\n\n    if (!address.trim()) {\n      setError('Contract address is required');\n      return;\n    }\n\n    if (!network.trim()) {\n      setError('Network is required');\n      return;\n    }\n\n    if (!abiText.trim()) {\n      setError('ABI is required');\n      return;\n    }\n\n    try {\n      // Parse ABI from string to JSON\n      const abi = JSON.parse(abiText);\n      \n      // Create contract object\n      const contract: NFTContractInfo = {\n        name,\n        address,\n        network,\n        abi\n      };\n      \n      // Save contract\n      saveNFTContract(contract);\n      \n      // Notify parent\n      onContractSaved();\n      \n      // Reset form if it's a new contract (not editing)\n      if (!initialContract) {\n        setName('');\n        setAddress('');\n        setNetwork('');\n        setAbiText('');\n      }\n    } catch (error) {\n      console.error('Error parsing ABI:', error);\n      setError('Invalid ABI JSON format');\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\n      <div>\n        <label htmlFor=\"contract-name\" className=\"block text-sm font-medium text-gray-700\">\n          Contract Name\n        </label>\n        <input\n          type=\"text\"\n          id=\"contract-name\"\n          value={name}\n          onChange={e => setName(e.target.value)}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          placeholder=\"My NFT Collection\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"contract-address\" className=\"block text-sm font-medium text-gray-700\">\n          Contract Address\n        </label>\n        <input\n          type=\"text\"\n          id=\"contract-address\"\n          value={address}\n          onChange={e => setAddress(e.target.value)}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n          placeholder=\"0x...\"\n        />\n      </div>\n\n      <div>\n        <label htmlFor=\"network\" className=\"block text-sm font-medium text-gray-700\">\n          Network\n        </label>\n        <select\n          id=\"network\"\n          value={network}\n          onChange={e => setNetwork(e.target.value)}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm\"\n        >\n          <option value=\"\">Select Network</option>\n          <option value=\"Ethereum Mainnet\">Ethereum Mainnet</option>\n          <option value=\"Goerli Testnet\">Goerli Testnet</option>\n          <option value=\"Sepolia Testnet\">Sepolia Testnet</option>\n          <option value=\"Polygon Mainnet\">Polygon Mainnet</option>\n          <option value=\"Mumbai Testnet\">Mumbai Testnet</option>\n          <option value=\"Kairos Testnet\">Kairos Testnet</option>\n        </select>\n      </div>\n\n      <div>\n        <label htmlFor=\"contract-abi\" className=\"block text-sm font-medium text-gray-700\">\n          Contract ABI\n        </label>\n        <textarea\n          id=\"contract-abi\"\n          rows={10}\n          value={abiText}\n          onChange={e => setAbiText(e.target.value)}\n          className=\"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm font-mono\"\n          placeholder=\"[{...}]\"\n        />\n        <p className=\"mt-1 text-xs text-gray-500\">\n          Paste the JSON ABI from your smart contract\n        </p>\n      </div>\n\n      {error && (\n        <div className=\"rounded-md bg-red-50 p-4\">\n          <div className=\"flex\">\n            <div className=\"ml-3\">\n              <h3 className=\"text-sm font-medium text-red-800\">Error</h3>\n              <div className=\"mt-2 text-sm text-red-700\">\n                <p>{error}</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"flex justify-end\">\n        <button\n          type=\"submit\"\n          className=\"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n        >\n          {initialContract ? 'Update Contract' : 'Save Contract'}\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default NFTContractForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}