{"ast":null,"code":"import React,{useState,useEffect,useCallback}from'react';import{useSearchParams}from'react-router-dom';import LectureList from'../components/LectureList';import{MODULES}from'../types';import{getLectures,deleteLecture}from'../services/storage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Archive=()=>{var _MODULES$find;const[lectures,setLectures]=useState([]);const[searchParams]=useSearchParams();const moduleFilter=searchParams.get('module');const loadLectures=useCallback(()=>{let allLectures=getLectures();// Apply module filter if present\nif(moduleFilter){allLectures=allLectures.filter(lecture=>lecture.module===moduleFilter);}setLectures(allLectures);},[moduleFilter]);useEffect(()=>{loadLectures();},[loadLectures]);const handleDelete=id=>{if(window.confirm('Are you sure you want to delete this lecture?')){deleteLecture(id);loadLectures();}};// Filter modules for display based on module filter\nconst filteredModules=moduleFilter?MODULES.filter(module=>module.id===moduleFilter):MODULES;return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Lecture Archive\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600 mt-1\",children:moduleFilter?`Showing lectures for ${((_MODULES$find=MODULES.find(m=>m.id===moduleFilter))===null||_MODULES$find===void 0?void 0:_MODULES$find.title)||'selected module'}`:'All lecture materials'})]}),moduleFilter&&/*#__PURE__*/_jsx(\"a\",{href:\"/archive\",className:\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\",children:\"Show All Modules\"})]}),lectures.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow-sm rounded-lg p-6 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:moduleFilter?'No lectures found for this module.':'No lectures have been created yet.'})}):/*#__PURE__*/_jsx(LectureList,{lectures:lectures,modules:filteredModules,onDelete:handleDelete})]});};export default Archive;","map":{"version":3,"names":["React","useState","useEffect","useCallback","useSearchParams","LectureList","MODULES","getLectures","deleteLecture","jsx","_jsx","jsxs","_jsxs","Archive","_MODULES$find","lectures","setLectures","searchParams","moduleFilter","get","loadLectures","allLectures","filter","lecture","module","handleDelete","id","window","confirm","filteredModules","className","children","find","m","title","href","length","modules","onDelete"],"sources":["/Users/sungwoocho/Desktop/platform/blog/src/pages/Archive.tsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport LectureList from '../components/LectureList';\nimport { Lecture, MODULES } from '../types';\nimport { getLectures, deleteLecture } from '../services/storage';\n\nconst Archive: React.FC = () => {\n  const [lectures, setLectures] = useState<Lecture[]>([]);\n  const [searchParams] = useSearchParams();\n  const moduleFilter = searchParams.get('module');\n  \n  const loadLectures = useCallback(() => {\n    let allLectures = getLectures();\n    \n    // Apply module filter if present\n    if (moduleFilter) {\n      allLectures = allLectures.filter(lecture => lecture.module === moduleFilter);\n    }\n    \n    setLectures(allLectures);\n  }, [moduleFilter]);\n  \n  useEffect(() => {\n    loadLectures();\n  }, [loadLectures]);\n  \n  const handleDelete = (id: string) => {\n    if (window.confirm('Are you sure you want to delete this lecture?')) {\n      deleteLecture(id);\n      loadLectures();\n    }\n  };\n  \n  // Filter modules for display based on module filter\n  const filteredModules = moduleFilter \n    ? MODULES.filter(module => module.id === moduleFilter) \n    : MODULES;\n  \n  return (\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-10\">\n      <div className=\"flex justify-between items-center mb-8\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Lecture Archive</h1>\n          <p className=\"text-gray-600 mt-1\">\n            {moduleFilter \n              ? `Showing lectures for ${MODULES.find(m => m.id === moduleFilter)?.title || 'selected module'}`\n              : 'All lecture materials'\n            }\n          </p>\n        </div>\n        \n        {moduleFilter && (\n          <a \n            href=\"/archive\" \n            className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50\"\n          >\n            Show All Modules\n          </a>\n        )}\n      </div>\n      \n      {lectures.length === 0 ? (\n        <div className=\"bg-white shadow-sm rounded-lg p-6 text-center\">\n          <p className=\"text-gray-500\">\n            {moduleFilter \n              ? 'No lectures found for this module.' \n              : 'No lectures have been created yet.'\n            }\n          </p>\n        </div>\n      ) : (\n        <LectureList \n          lectures={lectures} \n          modules={filteredModules}\n          onDelete={handleDelete}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Archive;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAC/D,OAASC,eAAe,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,WAAW,KAAM,2BAA2B,CACnD,OAAkBC,OAAO,KAAQ,UAAU,CAC3C,OAASC,WAAW,CAAEC,aAAa,KAAQ,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEjE,KAAM,CAAAC,OAAiB,CAAGA,CAAA,GAAM,KAAAC,aAAA,CAC9B,KAAM,CAACC,QAAQ,CAAEC,WAAW,CAAC,CAAGf,QAAQ,CAAY,EAAE,CAAC,CACvD,KAAM,CAACgB,YAAY,CAAC,CAAGb,eAAe,CAAC,CAAC,CACxC,KAAM,CAAAc,YAAY,CAAGD,YAAY,CAACE,GAAG,CAAC,QAAQ,CAAC,CAE/C,KAAM,CAAAC,YAAY,CAAGjB,WAAW,CAAC,IAAM,CACrC,GAAI,CAAAkB,WAAW,CAAGd,WAAW,CAAC,CAAC,CAE/B;AACA,GAAIW,YAAY,CAAE,CAChBG,WAAW,CAAGA,WAAW,CAACC,MAAM,CAACC,OAAO,EAAIA,OAAO,CAACC,MAAM,GAAKN,YAAY,CAAC,CAC9E,CAEAF,WAAW,CAACK,WAAW,CAAC,CAC1B,CAAC,CAAE,CAACH,YAAY,CAAC,CAAC,CAElBhB,SAAS,CAAC,IAAM,CACdkB,YAAY,CAAC,CAAC,CAChB,CAAC,CAAE,CAACA,YAAY,CAAC,CAAC,CAElB,KAAM,CAAAK,YAAY,CAAIC,EAAU,EAAK,CACnC,GAAIC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAAE,CACnEpB,aAAa,CAACkB,EAAE,CAAC,CACjBN,YAAY,CAAC,CAAC,CAChB,CACF,CAAC,CAED;AACA,KAAM,CAAAS,eAAe,CAAGX,YAAY,CAChCZ,OAAO,CAACgB,MAAM,CAACE,MAAM,EAAIA,MAAM,CAACE,EAAE,GAAKR,YAAY,CAAC,CACpDZ,OAAO,CAEX,mBACEM,KAAA,QAAKkB,SAAS,CAAC,8CAA8C,CAAAC,QAAA,eAC3DnB,KAAA,QAAKkB,SAAS,CAAC,wCAAwC,CAAAC,QAAA,eACrDnB,KAAA,QAAAmB,QAAA,eACErB,IAAA,OAAIoB,SAAS,CAAC,kCAAkC,CAAAC,QAAA,CAAC,iBAAe,CAAI,CAAC,cACrErB,IAAA,MAAGoB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAC9Bb,YAAY,CACT,wBAAwB,EAAAJ,aAAA,CAAAR,OAAO,CAAC0B,IAAI,CAACC,CAAC,EAAIA,CAAC,CAACP,EAAE,GAAKR,YAAY,CAAC,UAAAJ,aAAA,iBAAxCA,aAAA,CAA0CoB,KAAK,GAAI,iBAAiB,EAAE,CAC9F,uBAAuB,CAE1B,CAAC,EACD,CAAC,CAELhB,YAAY,eACXR,IAAA,MACEyB,IAAI,CAAC,UAAU,CACfL,SAAS,CAAC,kIAAkI,CAAAC,QAAA,CAC7I,kBAED,CAAG,CACJ,EACE,CAAC,CAELhB,QAAQ,CAACqB,MAAM,GAAK,CAAC,cACpB1B,IAAA,QAAKoB,SAAS,CAAC,+CAA+C,CAAAC,QAAA,cAC5DrB,IAAA,MAAGoB,SAAS,CAAC,eAAe,CAAAC,QAAA,CACzBb,YAAY,CACT,oCAAoC,CACpC,oCAAoC,CAEvC,CAAC,CACD,CAAC,cAENR,IAAA,CAACL,WAAW,EACVU,QAAQ,CAAEA,QAAS,CACnBsB,OAAO,CAAER,eAAgB,CACzBS,QAAQ,CAAEb,YAAa,CACxB,CACF,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAZ,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}