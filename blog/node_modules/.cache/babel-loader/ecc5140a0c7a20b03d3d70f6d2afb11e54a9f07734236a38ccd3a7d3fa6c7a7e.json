{"ast":null,"code":"import React,{useState,useEffect}from'react';import{getStoredMetadata,deleteStoredMetadata}from'../services/nft';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const MetadataViewer=()=>{const[metadata,setMetadata]=useState([]);const[isLoading,setIsLoading]=useState(true);useEffect(()=>{loadMetadata();},[]);const loadMetadata=()=>{setIsLoading(true);const storedMetadata=getStoredMetadata();setMetadata(storedMetadata);setIsLoading(false);};const handleDelete=id=>{if(window.confirm('Are you sure you want to delete this metadata?')){deleteStoredMetadata(id);loadMetadata();}};const formatDate=dateString=>{return new Date(dateString).toLocaleString();};if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"text-center py-6\",children:\"Loading...\"});}if(metadata.length===0){return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg p-6 text-center\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500\",children:\"No stored metadata found.\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-900\",children:\"Stored Metadata\"}),metadata.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-lg\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:px-6 flex justify-between items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:item.metadata.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-1 max-w-2xl text-sm text-gray-500\",children:[\"Created: \",formatDate(item.createdAt)]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(item.id),className:\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:\"Delete\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"Description\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",children:item.metadata.description})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"Image\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-16 w-16 bg-gray-100 rounded-md overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:item.metadata.image,alt:item.metadata.name,className:\"h-full w-full object-cover\",onError:e=>{e.target.src='https://via.placeholder.com/150?text=Error';}})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsx(\"a\",{href:item.metadata.image,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-xs text-indigo-600 hover:text-indigo-900\",children:\"View original\"})})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"IPFS URI\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"a\",{href:item.url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-indigo-600 hover:text-indigo-900 break-all font-mono text-xs\",children:item.url})})]}),item.metadata.attributes&&item.metadata.attributes.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500\",children:\"Attributes\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"border border-gray-200 rounded-md divide-y divide-gray-200\",children:item.metadata.attributes.map((attr,index)=>/*#__PURE__*/_jsx(\"li\",{className:\"pl-3 pr-4 py-3 flex items-center justify-between text-sm\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-0 flex-1 flex items-center\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 flex-1 w-0 truncate\",children:[attr.trait_type,\": \",attr.value]})})},index))})})]})]})})]},item.id))]});};export default MetadataViewer;","map":{"version":3,"names":["React","useState","useEffect","getStoredMetadata","deleteStoredMetadata","jsx","_jsx","jsxs","_jsxs","MetadataViewer","metadata","setMetadata","isLoading","setIsLoading","loadMetadata","storedMetadata","handleDelete","id","window","confirm","formatDate","dateString","Date","toLocaleString","className","children","length","map","item","name","createdAt","onClick","description","src","image","alt","onError","e","target","href","rel","url","attributes","attr","index","trait_type","value"],"sources":["/Users/sungwoocho/Desktop/platform/blog/src/components/MetadataViewer.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { StoredMetadata } from '../types/nft';\nimport { getStoredMetadata, deleteStoredMetadata } from '../services/nft';\n\nconst MetadataViewer: React.FC = () => {\n  const [metadata, setMetadata] = useState<StoredMetadata[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadMetadata();\n  }, []);\n\n  const loadMetadata = () => {\n    setIsLoading(true);\n    const storedMetadata = getStoredMetadata();\n    setMetadata(storedMetadata);\n    setIsLoading(false);\n  };\n\n  const handleDelete = (id: string) => {\n    if (window.confirm('Are you sure you want to delete this metadata?')) {\n      deleteStoredMetadata(id);\n      loadMetadata();\n    }\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleString();\n  };\n\n  if (isLoading) {\n    return <div className=\"text-center py-6\">Loading...</div>;\n  }\n\n  if (metadata.length === 0) {\n    return (\n      <div className=\"bg-white shadow rounded-lg p-6 text-center\">\n        <p className=\"text-gray-500\">No stored metadata found.</p>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <h2 className=\"text-xl font-semibold text-gray-900\">Stored Metadata</h2>\n      \n      {metadata.map((item) => (\n        <div key={item.id} className=\"bg-white shadow overflow-hidden sm:rounded-lg\">\n          <div className=\"px-4 py-5 sm:px-6 flex justify-between items-center\">\n            <div>\n              <h3 className=\"text-lg leading-6 font-medium text-gray-900\">\n                {item.metadata.name}\n              </h3>\n              <p className=\"mt-1 max-w-2xl text-sm text-gray-500\">\n                Created: {formatDate(item.createdAt)}\n              </p>\n            </div>\n            <button\n              onClick={() => handleDelete(item.id)}\n              className=\"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-red-700 bg-red-100 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n            >\n              Delete\n            </button>\n          </div>\n          \n          <div className=\"border-t border-gray-200\">\n            <dl>\n              <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">\n                  Description\n                </dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                  {item.metadata.description}\n                </dd>\n              </div>\n              \n              <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">\n                  Image\n                </dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                  <div className=\"flex items-center\">\n                    <div className=\"flex-shrink-0 h-16 w-16 bg-gray-100 rounded-md overflow-hidden\">\n                      <img\n                        src={item.metadata.image}\n                        alt={item.metadata.name}\n                        className=\"h-full w-full object-cover\"\n                        onError={(e) => {\n                          (e.target as HTMLImageElement).src = 'https://via.placeholder.com/150?text=Error';\n                        }}\n                      />\n                    </div>\n                    <div className=\"ml-4\">\n                      <a\n                        href={item.metadata.image}\n                        target=\"_blank\"\n                        rel=\"noopener noreferrer\"\n                        className=\"text-xs text-indigo-600 hover:text-indigo-900\"\n                      >\n                        View original\n                      </a>\n                    </div>\n                  </div>\n                </dd>\n              </div>\n              \n              <div className=\"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                <dt className=\"text-sm font-medium text-gray-500\">\n                  IPFS URI\n                </dt>\n                <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                  <a\n                    href={item.url}\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    className=\"text-indigo-600 hover:text-indigo-900 break-all font-mono text-xs\"\n                  >\n                    {item.url}\n                  </a>\n                </dd>\n              </div>\n              \n              {item.metadata.attributes && item.metadata.attributes.length > 0 && (\n                <div className=\"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\">\n                  <dt className=\"text-sm font-medium text-gray-500\">\n                    Attributes\n                  </dt>\n                  <dd className=\"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\">\n                    <ul className=\"border border-gray-200 rounded-md divide-y divide-gray-200\">\n                      {item.metadata.attributes.map((attr, index) => (\n                        <li\n                          key={index}\n                          className=\"pl-3 pr-4 py-3 flex items-center justify-between text-sm\"\n                        >\n                          <div className=\"w-0 flex-1 flex items-center\">\n                            <span className=\"ml-2 flex-1 w-0 truncate\">\n                              {attr.trait_type}: {attr.value}\n                            </span>\n                          </div>\n                        </li>\n                      ))}\n                    </ul>\n                  </dd>\n                </div>\n              )}\n            </dl>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default MetadataViewer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}