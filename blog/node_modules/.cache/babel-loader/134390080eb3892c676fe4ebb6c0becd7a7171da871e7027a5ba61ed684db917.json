{"ast":null,"code":"import axios from 'axios';\n// Local storage key for metadata items\nconst METADATA_STORAGE_KEY = 'nft_stored_metadata';\n\n// 하드코딩된 API 키 (최후의 수단으로 사용)\nconst FALLBACK_API_KEY = \"4f5eb1e973348c67f7db\";\nconst FALLBACK_API_SECRET = \"76c752db760ae75231ea6e7c2729da9f9318c44671c46b292c64e5855c4d9884\";\n\n// Helper function to extract error message from various error types\nconst getErrorMessage = error => {\n  if (typeof error === 'string') return error;\n  if (error instanceof Error) return error.message;\n  if (error && typeof error === 'object') {\n    if ('message' in error) return String(error.message);\n    if ('error' in error) return String(error.error);\n    try {\n      return JSON.stringify(error); // Last resort - convert object to string\n    } catch (e) {\n      return \"Cannot display error details\";\n    }\n  }\n  return 'Unknown error occurred';\n};\n\n// Function to get the Pinata API configuration\nexport const getPinataConfig = () => {\n  try {\n    const apiKey = localStorage.getItem('pinataApiKey');\n    const apiSecret = localStorage.getItem('pinataApiSecret');\n    const jwt = localStorage.getItem('pinataJWT');\n    console.log('로컬스토리지에서 불러온 Pinata 설정:');\n    console.log('API Key 존재:', !!apiKey);\n    console.log('API Secret 존재:', !!apiSecret);\n    console.log('JWT 존재:', !!jwt);\n\n    // 저장된 API 키가 있는 경우\n    if (apiKey && apiSecret) {\n      console.log('저장된 API 키 사용');\n      return {\n        headers: {\n          pinata_api_key: apiKey,\n          pinata_secret_api_key: apiSecret\n        }\n      };\n    }\n\n    // JWT가 있는 경우\n    if (jwt) {\n      console.log('저장된 JWT 사용');\n      return {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      };\n    }\n\n    // 저장된 설정이 없는 경우 하드코딩된 API 키 사용\n    console.log('하드코딩된 API 키 사용');\n    return {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET\n      }\n    };\n  } catch (error) {\n    console.error('Pinata 설정 가져오기 오류:', error);\n\n    // 오류 발생 시 하드코딩된 API 키 반환\n    console.log('오류 발생으로 하드코딩된 API 키 사용');\n    return {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET\n      }\n    };\n  }\n};\n\n// Function to retrieve all stored metadata\nexport const getStoredMetadata = () => {\n  try {\n    const storedData = localStorage.getItem(METADATA_STORAGE_KEY);\n    if (!storedData) {\n      return [];\n    }\n    return JSON.parse(storedData);\n  } catch (error) {\n    console.error('Error retrieving stored metadata:', error);\n    return [];\n  }\n};\n\n// Function to save a new metadata item\nexport const saveStoredMetadata = metadata => {\n  try {\n    const existingMetadata = getStoredMetadata();\n    existingMetadata.push(metadata);\n    localStorage.setItem(METADATA_STORAGE_KEY, JSON.stringify(existingMetadata));\n  } catch (error) {\n    console.error('Error saving metadata:', error);\n    throw new Error('Failed to save metadata to local storage');\n  }\n};\n\n// Function to delete a metadata item by ID\nexport const deleteStoredMetadata = id => {\n  try {\n    const existingMetadata = getStoredMetadata();\n    const updatedMetadata = existingMetadata.filter(item => item.id !== id);\n    localStorage.setItem(METADATA_STORAGE_KEY, JSON.stringify(updatedMetadata));\n  } catch (error) {\n    console.error('Error deleting metadata:', error);\n    throw new Error('Failed to delete metadata from local storage');\n  }\n};\n\n// Function to upload an image to Pinata\nexport const uploadImageToPinata = async file => {\n  try {\n    // 하드코딩된 API 키 직접 사용 (최후의 수단)\n    const config = {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET,\n        'Content-Type': 'multipart/form-data'\n      },\n      maxBodyLength: Infinity // Type issue fix\n    };\n    console.log('하드코딩된 API 키로 직접 이미지 업로드 시도');\n\n    // Create form data\n    const formData = new FormData();\n    formData.append('file', file);\n\n    // Add metadata\n    const metadata = JSON.stringify({\n      name: file.name,\n      keyvalues: {\n        type: 'nft-image',\n        timestamp: Date.now().toString()\n      }\n    });\n    formData.append('pinataMetadata', metadata);\n\n    // Add pinata options\n    const pinataOptions = JSON.stringify({\n      cidVersion: 1\n    });\n    formData.append('pinataOptions', pinataOptions);\n\n    // Make the API request\n    const response = await axios.post('https://api.pinata.cloud/pinning/pinFileToIPFS', formData, config);\n    console.log('Pinata 응답:', response.data);\n\n    // If successful, return the IPFS URL\n    if (response.data && response.data.IpfsHash) {\n      return {\n        url: `https://gateway.pinata.cloud/ipfs/${response.data.IpfsHash}`,\n        ipfsHash: response.data.IpfsHash\n      };\n    } else {\n      throw new Error('Invalid response from Pinata');\n    }\n  } catch (error) {\n    // explicit any type here to handle different error types\n    console.error('Error uploading to Pinata:', error);\n\n    // All error variations in a string format\n    let errorDetails = '';\n    if (error && typeof error === 'object') {\n      errorDetails = JSON.stringify(error, Object.getOwnPropertyNames(error));\n    }\n    console.error('Error details:', errorDetails);\n\n    // 명시적인 오류 처리\n    if (axios.isAxiosError(error)) {\n      const axiosError = error; // Type cast for better type checking\n\n      if (axiosError.response) {\n        // 서버 응답이 있는 경우\n        console.error('Error response status:', axiosError.response.status);\n        console.error('Error response data:', axiosError.response.data);\n        try {\n          const responseData = axiosError.response.data;\n          if (responseData && typeof responseData === 'object' && responseData.error) {\n            return Promise.reject(new Error(`Server error: ${responseData.error}`));\n          }\n        } catch (jsonError) {\n          console.error('Error parsing response data:', jsonError);\n        }\n        return Promise.reject(new Error(`Server error: ${axiosError.response.status}`));\n      } else if (axiosError.request) {\n        // 요청은 보냈지만 응답을 받지 못한 경우\n        return Promise.reject(new Error('No response received from server. Please check your internet connection.'));\n      } else {\n        // 요청 설정 중 오류 발생\n        return Promise.reject(new Error(`Request error: ${axiosError.message}`));\n      }\n    }\n\n    // 기타 알 수 없는 오류\n    const finalMessage = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Unknown error';\n    return Promise.reject(new Error(`Upload failed: ${finalMessage}`));\n  }\n};\n\n// Function to store metadata to Pinata\nexport const storeMetadataToPinata = async metadata => {\n  try {\n    // 하드코딩된 API 키 직접 사용\n    const config = {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET,\n        'Content-Type': 'application/json'\n      }\n    };\n    console.log('하드코딩된 API 키로 직접 메타데이터 저장 시도');\n\n    // Prepare the JSON to be pinned\n    const data = {\n      pinataOptions: {\n        cidVersion: 1\n      },\n      pinataMetadata: {\n        name: `${metadata.name}-metadata`,\n        keyvalues: {\n          type: 'nft-metadata',\n          timestamp: Date.now().toString()\n        }\n      },\n      pinataContent: metadata\n    };\n\n    // Make the API request\n    const response = await axios.post('https://api.pinata.cloud/pinning/pinJSONToIPFS', data, config);\n    console.log('메타데이터 저장 응답:', response.data);\n\n    // If successful, return the IPFS URL and save to local storage\n    if (response.data && response.data.IpfsHash) {\n      const result = {\n        url: `https://gateway.pinata.cloud/ipfs/${response.data.IpfsHash}`,\n        ipfsHash: response.data.IpfsHash\n      };\n\n      // Create a StoredMetadata object\n      const storedMetadata = {\n        id: typeof crypto !== 'undefined' && crypto.randomUUID ? crypto.randomUUID() : Date.now().toString(),\n        cid: response.data.IpfsHash,\n        url: result.url,\n        metadata: metadata,\n        createdAt: new Date().toISOString()\n      };\n\n      // Save to local storage\n      saveStoredMetadata(storedMetadata);\n      return result;\n    } else {\n      throw new Error('Invalid response from Pinata');\n    }\n  } catch (error) {\n    // explicit any type here\n    console.error('Error storing metadata on Pinata:', error);\n\n    // All error variations in a string format\n    let errorDetails = '';\n    if (error && typeof error === 'object') {\n      errorDetails = JSON.stringify(error, Object.getOwnPropertyNames(error));\n    }\n    console.error('Error details:', errorDetails);\n\n    // 명시적인 오류 처리\n    if (axios.isAxiosError(error)) {\n      const axiosError = error; // Type cast for better type checking\n\n      if (axiosError.response) {\n        // 서버 응답이 있는 경우\n        console.error('Error response status:', axiosError.response.status);\n        console.error('Error response data:', axiosError.response.data);\n        try {\n          const responseData = axiosError.response.data;\n          if (responseData && typeof responseData === 'object' && responseData.error) {\n            return Promise.reject(new Error(`Server error: ${responseData.error}`));\n          }\n        } catch (jsonError) {\n          console.error('Error parsing response data:', jsonError);\n        }\n        return Promise.reject(new Error(`Server error: ${axiosError.response.status}`));\n      } else if (axiosError.request) {\n        // 요청은 보냈지만 응답을 받지 못한 경우\n        return Promise.reject(new Error('No response received from server. Please check your internet connection.'));\n      } else {\n        // 요청 설정 중 오류 발생\n        return Promise.reject(new Error(`Request error: ${axiosError.message}`));\n      }\n    }\n\n    // 기타 알 수 없는 오류\n    const finalMessage = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Unknown error';\n    return Promise.reject(new Error(`Metadata storage failed: ${finalMessage}`));\n  }\n};","map":{"version":3,"names":["axios","METADATA_STORAGE_KEY","FALLBACK_API_KEY","FALLBACK_API_SECRET","getErrorMessage","error","Error","message","String","JSON","stringify","e","getPinataConfig","apiKey","localStorage","getItem","apiSecret","jwt","console","log","headers","pinata_api_key","pinata_secret_api_key","Authorization","getStoredMetadata","storedData","parse","saveStoredMetadata","metadata","existingMetadata","push","setItem","deleteStoredMetadata","id","updatedMetadata","filter","item","uploadImageToPinata","file","config","maxBodyLength","Infinity","formData","FormData","append","name","keyvalues","type","timestamp","Date","now","toString","pinataOptions","cidVersion","response","post","data","IpfsHash","url","ipfsHash","errorDetails","Object","getOwnPropertyNames","isAxiosError","axiosError","status","responseData","Promise","reject","jsonError","request","finalMessage","storeMetadataToPinata","pinataMetadata","pinataContent","result","storedMetadata","crypto","randomUUID","cid","createdAt","toISOString"],"sources":["/Users/sungwoocho/Desktop/platform/blog/src/services/nft.ts"],"sourcesContent":["import axios, { AxiosError } from 'axios';\nimport { NFTMetadata, StoredMetadata } from '../types/nft';\n\n// Local storage key for metadata items\nconst METADATA_STORAGE_KEY = 'nft_stored_metadata';\n\n// 하드코딩된 API 키 (최후의 수단으로 사용)\nconst FALLBACK_API_KEY = \"4f5eb1e973348c67f7db\";\nconst FALLBACK_API_SECRET = \"76c752db760ae75231ea6e7c2729da9f9318c44671c46b292c64e5855c4d9884\";\n\n// Helper function to extract error message from various error types\nconst getErrorMessage = (error: any): string => {\n  if (typeof error === 'string') return error;\n  if (error instanceof Error) return error.message;\n  if (error && typeof error === 'object') {\n    if ('message' in error) return String(error.message);\n    if ('error' in error) return String(error.error);\n    try {\n      return JSON.stringify(error); // Last resort - convert object to string\n    } catch (e) {\n      return \"Cannot display error details\";\n    }\n  }\n  return 'Unknown error occurred';\n};\n\n// Function to get the Pinata API configuration\nexport const getPinataConfig = () => {\n  try {\n    const apiKey = localStorage.getItem('pinataApiKey');\n    const apiSecret = localStorage.getItem('pinataApiSecret');\n    const jwt = localStorage.getItem('pinataJWT');\n\n    console.log('로컬스토리지에서 불러온 Pinata 설정:');\n    console.log('API Key 존재:', !!apiKey);\n    console.log('API Secret 존재:', !!apiSecret);\n    console.log('JWT 존재:', !!jwt);\n\n    // 저장된 API 키가 있는 경우\n    if (apiKey && apiSecret) {\n      console.log('저장된 API 키 사용');\n      return {\n        headers: {\n          pinata_api_key: apiKey,\n          pinata_secret_api_key: apiSecret\n        }\n      };\n    }\n    \n    // JWT가 있는 경우\n    if (jwt) {\n      console.log('저장된 JWT 사용');\n      return {\n        headers: {\n          Authorization: `Bearer ${jwt}`\n        }\n      };\n    }\n\n    // 저장된 설정이 없는 경우 하드코딩된 API 키 사용\n    console.log('하드코딩된 API 키 사용');\n    return {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET\n      }\n    };\n  } catch (error) {\n    console.error('Pinata 설정 가져오기 오류:', error);\n    \n    // 오류 발생 시 하드코딩된 API 키 반환\n    console.log('오류 발생으로 하드코딩된 API 키 사용');\n    return {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET\n      }\n    };\n  }\n};\n\n// Function to retrieve all stored metadata\nexport const getStoredMetadata = (): StoredMetadata[] => {\n  try {\n    const storedData = localStorage.getItem(METADATA_STORAGE_KEY);\n    if (!storedData) {\n      return [];\n    }\n    \n    return JSON.parse(storedData) as StoredMetadata[];\n  } catch (error) {\n    console.error('Error retrieving stored metadata:', error);\n    return [];\n  }\n};\n\n// Function to save a new metadata item\nexport const saveStoredMetadata = (metadata: StoredMetadata): void => {\n  try {\n    const existingMetadata = getStoredMetadata();\n    existingMetadata.push(metadata);\n    localStorage.setItem(METADATA_STORAGE_KEY, JSON.stringify(existingMetadata));\n  } catch (error) {\n    console.error('Error saving metadata:', error);\n    throw new Error('Failed to save metadata to local storage');\n  }\n};\n\n// Function to delete a metadata item by ID\nexport const deleteStoredMetadata = (id: string): void => {\n  try {\n    const existingMetadata = getStoredMetadata();\n    const updatedMetadata = existingMetadata.filter(item => item.id !== id);\n    localStorage.setItem(METADATA_STORAGE_KEY, JSON.stringify(updatedMetadata));\n  } catch (error) {\n    console.error('Error deleting metadata:', error);\n    throw new Error('Failed to delete metadata from local storage');\n  }\n};\n\n// Function to upload an image to Pinata\nexport const uploadImageToPinata = async (file: File) => {\n  try {\n    // 하드코딩된 API 키 직접 사용 (최후의 수단)\n    const config = {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET,\n        'Content-Type': 'multipart/form-data'\n      },\n      maxBodyLength: Infinity as any // Type issue fix\n    };\n    \n    console.log('하드코딩된 API 키로 직접 이미지 업로드 시도');\n    \n    // Create form data\n    const formData = new FormData();\n    formData.append('file', file);\n    \n    // Add metadata\n    const metadata = JSON.stringify({\n      name: file.name,\n      keyvalues: {\n        type: 'nft-image',\n        timestamp: Date.now().toString()\n      }\n    });\n    formData.append('pinataMetadata', metadata);\n    \n    // Add pinata options\n    const pinataOptions = JSON.stringify({\n      cidVersion: 1\n    });\n    formData.append('pinataOptions', pinataOptions);\n    \n    // Make the API request\n    const response = await axios.post(\n      'https://api.pinata.cloud/pinning/pinFileToIPFS',\n      formData,\n      config\n    );\n    \n    console.log('Pinata 응답:', response.data);\n    \n    // If successful, return the IPFS URL\n    if (response.data && response.data.IpfsHash) {\n      return {\n        url: `https://gateway.pinata.cloud/ipfs/${response.data.IpfsHash}`,\n        ipfsHash: response.data.IpfsHash\n      };\n    } else {\n      throw new Error('Invalid response from Pinata');\n    }\n  } catch (error: any) { // explicit any type here to handle different error types\n    console.error('Error uploading to Pinata:', error);\n    \n    // All error variations in a string format\n    let errorDetails = '';\n    if (error && typeof error === 'object') {\n      errorDetails = JSON.stringify(error, Object.getOwnPropertyNames(error));\n    }\n    console.error('Error details:', errorDetails);\n    \n    // 명시적인 오류 처리\n    if (axios.isAxiosError(error)) {\n      const axiosError = error as AxiosError; // Type cast for better type checking\n      \n      if (axiosError.response) {\n        // 서버 응답이 있는 경우\n        console.error('Error response status:', axiosError.response.status);\n        console.error('Error response data:', axiosError.response.data);\n        \n        try {\n          const responseData = axiosError.response.data as any;\n          if (responseData && typeof responseData === 'object' && responseData.error) {\n            return Promise.reject(new Error(`Server error: ${responseData.error}`));\n          }\n        } catch (jsonError) {\n          console.error('Error parsing response data:', jsonError);\n        }\n        \n        return Promise.reject(new Error(`Server error: ${axiosError.response.status}`));\n      } else if (axiosError.request) {\n        // 요청은 보냈지만 응답을 받지 못한 경우\n        return Promise.reject(new Error('No response received from server. Please check your internet connection.'));\n      } else {\n        // 요청 설정 중 오류 발생\n        return Promise.reject(new Error(`Request error: ${axiosError.message}`));\n      }\n    }\n    \n    // 기타 알 수 없는 오류\n    const finalMessage = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Unknown error';\n    return Promise.reject(new Error(`Upload failed: ${finalMessage}`));\n  }\n};\n\n// Function to store metadata to Pinata\nexport const storeMetadataToPinata = async (metadata: NFTMetadata) => {\n  try {\n    // 하드코딩된 API 키 직접 사용\n    const config = {\n      headers: {\n        pinata_api_key: FALLBACK_API_KEY,\n        pinata_secret_api_key: FALLBACK_API_SECRET,\n        'Content-Type': 'application/json'\n      }\n    };\n    \n    console.log('하드코딩된 API 키로 직접 메타데이터 저장 시도');\n    \n    // Prepare the JSON to be pinned\n    const data = {\n      pinataOptions: {\n        cidVersion: 1\n      },\n      pinataMetadata: {\n        name: `${metadata.name}-metadata`,\n        keyvalues: {\n          type: 'nft-metadata',\n          timestamp: Date.now().toString()\n        }\n      },\n      pinataContent: metadata\n    };\n    \n    // Make the API request\n    const response = await axios.post(\n      'https://api.pinata.cloud/pinning/pinJSONToIPFS',\n      data,\n      config\n    );\n    \n    console.log('메타데이터 저장 응답:', response.data);\n    \n    // If successful, return the IPFS URL and save to local storage\n    if (response.data && response.data.IpfsHash) {\n      const result = {\n        url: `https://gateway.pinata.cloud/ipfs/${response.data.IpfsHash}`,\n        ipfsHash: response.data.IpfsHash\n      };\n      \n      // Create a StoredMetadata object\n      const storedMetadata: StoredMetadata = {\n        id: typeof crypto !== 'undefined' && crypto.randomUUID ? crypto.randomUUID() : Date.now().toString(),\n        cid: response.data.IpfsHash,\n        url: result.url,\n        metadata: metadata,\n        createdAt: new Date().toISOString()\n      };\n      \n      // Save to local storage\n      saveStoredMetadata(storedMetadata);\n      \n      return result;\n    } else {\n      throw new Error('Invalid response from Pinata');\n    }\n  } catch (error: any) { // explicit any type here\n    console.error('Error storing metadata on Pinata:', error);\n    \n    // All error variations in a string format\n    let errorDetails = '';\n    if (error && typeof error === 'object') {\n      errorDetails = JSON.stringify(error, Object.getOwnPropertyNames(error));\n    }\n    console.error('Error details:', errorDetails);\n    \n    // 명시적인 오류 처리\n    if (axios.isAxiosError(error)) {\n      const axiosError = error as AxiosError; // Type cast for better type checking\n      \n      if (axiosError.response) {\n        // 서버 응답이 있는 경우\n        console.error('Error response status:', axiosError.response.status);\n        console.error('Error response data:', axiosError.response.data);\n        \n        try {\n          const responseData = axiosError.response.data as any;\n          if (responseData && typeof responseData === 'object' && responseData.error) {\n            return Promise.reject(new Error(`Server error: ${responseData.error}`));\n          }\n        } catch (jsonError) {\n          console.error('Error parsing response data:', jsonError);\n        }\n        \n        return Promise.reject(new Error(`Server error: ${axiosError.response.status}`));\n      } else if (axiosError.request) {\n        // 요청은 보냈지만 응답을 받지 못한 경우\n        return Promise.reject(new Error('No response received from server. Please check your internet connection.'));\n      } else {\n        // 요청 설정 중 오류 발생\n        return Promise.reject(new Error(`Request error: ${axiosError.message}`));\n      }\n    }\n    \n    // 기타 알 수 없는 오류\n    const finalMessage = error instanceof Error ? error.message : typeof error === 'string' ? error : 'Unknown error';\n    return Promise.reject(new Error(`Metadata storage failed: ${finalMessage}`));\n  }\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}